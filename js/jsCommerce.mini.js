var jsCommerce=function(e,k){Number.prototype.formatMoney=function(b,a,d){var e=this;b=isNaN(b=Math.abs(b))?2:b;a=void 0==a?".":a;d=void 0==d?",":d;var h=0>e?"-":"",g=parseInt(e=Math.abs(+e||0).toFixed(b))+"",f=3<(f=g.length)?f%3:0;return h+(f?g.substr(0,f)+d:"")+g.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+d)+(b?a+Math.abs(e-g).toFixed(b).slice(2):"")};var a={ShoppingCart:{list:[],total:0},Customer:{id:void 0,name:void 0,areaCode:void 0,phone:void 0,email:void 0,message:void 0},callback:function(){}};
a.ShoppingCart.__proto__.setProduct=function(b){var c=!1;this.list.forEach(function(a){a.itemid==b.dataset.itemid&&(c=!0,b.dataset.itemquantity=eval(b.dataset.itemquantity)+1)});c||(b.dataset.itemquantity=1,this.list.push(b.dataset));a.getCallback()};a.ShoppingCart.__proto__.deleteProduct=function(b){var c=0;a.ShoppingCart.list.forEach(function(d){d.itemid==b.dataset.itemid&&a.ShoppingCart.list.splice(c,1);c++});a.getCallback()};a.ShoppingCart.__proto__.removeProduct=function(b){var c=0;a.ShoppingCart.list.forEach(function(d){d.itemid==
b.dataset.itemid&&(1<d.itemquantity?d.itemquantity--:a.ShoppingCart.list.splice(c,1));c++});a.getCallback()};a.ShoppingCart.__proto__.getTotal=function(){a.ShoppingCart.total=0;this.list.forEach(function(b){a.ShoppingCart.total+=eval(b.itemamount)*eval(b.itemquantity)});[].map.call(e.querySelectorAll('[rel="totalCart"]'),function(b){b.innerHTML=a.ShoppingCart.total.formatMoney(2,",",".")});return a.ShoppingCart.total};a.__proto__.setCallback=function(b){a.callback=b};a.__proto__.getCallback=function(){a.ShoppingCart.getTotal();
a.callback()};a.__proto__.run=function(a){var c=this;[].map.call(e.querySelectorAll('[rel="addProduct"]'),function(a){a.addEventListener("click",function(){c.ShoppingCart.setProduct(this.parentNode)},!1)});[].map.call(e.querySelectorAll('[rel="removeProduct"]'),function(a){a.addEventListener("click",function(){c.ShoppingCart.removeProduct(this.parentNode)},!1)});[].map.call(e.querySelectorAll('[rel="deleteProduct"]'),function(a){a.addEventListener("click",function(){c.ShoppingCart.deleteProduct(this.parentNode)},
!1)});void 0!=a&&a();return this};return a}(document,window);
